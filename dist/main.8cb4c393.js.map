{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","mySites","localStorage","getItem","initSites","JSON","parse","hashMap","url","logo","simplify","str","indexOf","replace","render","remove","forEach","obj","i","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","console","log","push","toUpperCase","scrollTo","onbeforeunload","setItem","stringify"],"mappings":"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","file":"main.8cb4c393.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList');\nconst $lastLi = $siteList.find('li.last');\n\n// 存储数据\nconst mySites = localStorage.getItem('mySites');\nconst initSites = JSON.parse(mySites);\nconst hashMap = initSites || [\n  // {\n  //   url: 'https://ncov.dxy.cn/ncovh5/view/pneumonia?scene=2&clicktime=1579582238&enterid=1579582238&from=groupmessage&isappinstalled=0',\n  //   logo: '丁'\n  // },\n  // {\n  //   url: 'http://www.people.com.cn/',\n  //   logo: '人'\n  // },\n  // {\n  //   url: 'http://www.bilibili.com/',\n  //   logo: 'B'\n  // }\n  {\n    url: 'https://gzygzy00.github.io/',\n    logo: 'B'\n  },\n  {\n    url: 'https://gzygzy00.github.io/cnode-imitated/dist/#/',\n    logo: 'C'\n  },\n  {\n    url: 'https://gzygzy00.github.io/DrawCUPHEAD/dist/index.html',\n    logo: 'D'\n  },\n  {\n    url: 'https://gzygzy00.github.io/cv',\n    logo: '简'\n  },\n  {\n    url: 'https://gzygzy00.github.io/music-player',\n    logo: 'M'\n  },\n  {\n    url: 'https://gzygzy00.github.io/DB_top250',\n    logo: '榜'\n  },\n  {\n    url: 'https://gzygzy00.github.io/canvas-demo-1',\n    logo: '画'\n  },\n];\n\n// 正则\nconst simplify = (str) => {\n  if (str === 'https://gzygzy00.github.io/') {\n    return '个人博客';\n  } else if (str.indexOf('https://gzygzy00.github.io/') >= 0 && str !== 'https://gzygzy00.github.io/') {\n    return str.replace('https://gzygzy00.github.io/', '')\n      .replace(/\\/dist\\/.*$/, '');\n  } else {\n    return str.replace('https://', '')\n      .replace('http://', '')\n      .replace('www.', '')\n      .replace(/(\\/.*)|(^\\.)/, '') // 删除 / 开头和开头是 . 的内容\n      .replace(/\\.?(?<=\\.).*$/, ''); // 删除域名第一个 . 之后的内容\n  }\n};\n\n// 渲染\nconst render = () => {\n  $siteList.find('li:not(.last)').remove();\n  hashMap.forEach((obj, i) => {\n    const $li = $(`<li class=\"site\" title=\"${obj.url}\">\n        <div class=\"logo\">${obj.logo}</div>\n        <div class=\"link\">${simplify(obj.url)}</div>\n        <div class=\"icon-wrapper\">\n          <svg class=\"icon close\">\n            <use xlink:href=\"#icon-close\"></use>\n          </svg>\n        </div>\n      </li>`);\n    $li.insertBefore($lastLi);\n    $li.on('click', () => {\n      window.open(obj.url);\n    });\n    $li.on('click', '.close', (e) => {\n      e.stopPropagation(); // 阻止冒泡\n      hashMap.splice(i, 1);\n      render();\n    });\n  });\n};\nrender();\n\n// 新增网页\n$('.site.last').on('click', () => {\n  let url = window.prompt('请输入网址');\n  if (url.indexOf('https://') === -1) {\n    url = `https://${url}`;\n  }\n  console.log(url);\n  console.log(hashMap);\n  hashMap.push({\n    url: url,\n    logo: simplify(url)[0].toUpperCase()\n  });\n  // console.log(hashMap)\n  render();\n  window.scrollTo(0, 99999);\n});\n\n// 保存，刷新或关闭时\nwindow.onbeforeunload = () => {\n  localStorage.setItem('mySites', JSON.stringify(hashMap));\n};"]}